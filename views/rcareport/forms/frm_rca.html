<form class="form-horizontal">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title"><strong>Reporte de Analisis Causa Raiz</strong> / Root Cause Analysis Report (RCA)</h3>
        </div>
        <div class="panel-body">
            <p>Registro de nuevo RCA. Ingresa toda la informacion necesaria, sea preciso con la informacion.</p>
        </div>
        <div class="panel-body">
            <!-- row -->
            <div class="row">
                <!-- col1 -->
                <div class="col-md-4">
                    
                    <div class="form-group">
                        <label class="col-md-3 control-label">Empresa</label>
                        <div class="col-md-9">
                            <select class="form-control select" disabled name="empresa" ng-model="rcareport.empresa" ng-options="empresa.razon_social for empresa in empresas track by empresa.id"></select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-3 control-label">Sucursal</label>
                        <div class="col-md-9">
                            <select class="form-control select" ng-model="rcareport.sucursal" ng-required="true" ng-options="sucursal.nombre for sucursal in sucursales track by sucursal.id"></select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-3 control-label">Solicitante</label>
                        <div class="col-md-9">
                            <div class="input-group">
                                <select class="form-control select" ng-model="rcareport.solicitante" ng-required="true" ng-options='(solicitante.nombre + " " + solicitante.apellidos) for solicitante in personas track by solicitante.id'></select>
                                <span class="input-group-addon"><span class="fa fa-search"></span></span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-3 control-label">Coordinador</label>
                        <div class="col-md-9">
                            <div class="input-group">
                                <select class="form-control select" ng-model="rcareport.coordinador" ng-required="true" ng-options='(coordinador.nombre + " " + coordinador.apellidos) for coordinador in personas track by coordinador.id'></select>
                                <span class="input-group-addon"><span class="fa fa-search"></span></span>
                            </div>
                        </div>
                    </div>
                    
                </div>
                <!-- end-col1 -->
                
                <!-- col2 -->
                <div class="col-md-4">
                    
                    <div class="form-group">
                        <label class="col-md-3 control-label">Severidad</label>
                        <div class="col-md-9">
                            <select class="form-control select" ng-model="rcareport.severidad" ng-required="true" ng-options="severidad.nivel for severidad in severidades track by severidad.id"></select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-3 control-label">Impacto</label>
                        <div class="col-md-9">
                            <select class="form-control select" ng-model="rcareport.impacto" ng-required="true" ng-options="impacto.nombre for impacto in impactos track by impacto.id"></select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-3 control-label">Prioridad</label>
                        <div class="col-md-9">
                            <select class="form-control select" ng-model="rcareport.prioridad" ng-required="true" ng-options="prioridad.nombre for prioridad in prioridades track by prioridad.id"></select>
                        </div>
                    </div>


                </div>
                <!-- end-col2 -->
                <!-- col3 -->
                <div class="col-md-4">

                    <div class="form-group">
                        <label class="col-md-6 control-label">Gestion del Cambio</label>
                        <div class="col-md-3 col-xs-12">
                            <label class="check"><input type="radio" class="iradio iradio_minimal-grey checked" value="true" name="existeGC" ng-model="rcareport.existeGC"/> Existe</label>
                        </div>
                        <div class="col-md-3 col-xs-12">
                            <label class="check"><input type="radio" class="iradio iradio_minimal-grey checked" value="false" name="existeGC" ng-model="rcareport.existeGC" /> Nuevo</label>
                        </div>
                    </div>

                    <div class="form-group" ng-show="rcareport.existeGC">
                        <div class="col-md-3"></div>
                        <div class="col-md-9">
                            <div class="input-group">
                                <input type="text" class="form-control" ng-model="rcareport.cr.id" readonly="" />
                                <span class="input-group-addon"><span class="fa fa-search"></span></span>
                            </div>
                            <span class="help-block">Indica la Gestion de Cambio</span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-3 control-label">SLA</label>
                        <div class="col-md-9">
                            <div class="input-group">
                                <input type="text" class="form-control" ng-model="rcareport.sla_failure.id" readonly="" />
                                <span class="input-group-addon"><span class="fa fa-search"></span></span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-3 control-label">Aceptador</label>
                        <div class="col-md-9">
                            <div class="input-group">
                                <select class="form-control select" ng-required="true" ng-model="rcareport.detail.accepted_by" ng-options='(accepted.nombre + " " + accepted.apellidos) for accepted in personas track by accepted.id'></select>
                                <span class="input-group-addon"><span class="fa fa-search"></span></span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="col-md-3 control-label">Aprobador</label>
                        <div class="col-md-9">
                            <div class="input-group">
                                <select class="form-control select" ng-required="true" ng-model="rcareport.detail.approval_by" ng-options='(approval.nombre + " " + approval.apellidos) for approval in personas track by approval.id'></select>
                                <span class="input-group-addon"><span class="fa fa-search"></span></span>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- end-col3 -->
            </div>
            <!-- end - row -->
            <br>
            <!-- row2 -->
            <div class="row">
                <!-- col1 -->
                <div class="col-md-12">
                    <div class="form-group">
                        <label class="col-md-2 control-label">Analisis</label>
                    </div>
                    <div class="form-group">
                        <div class="col-md-12 col-xs-12">
                            <summernote height="100" ng-model="rcareport.detail.rca"></summernote>
                            <span class="help-block">Detalle del Analisis de Causa Raiz</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-2 control-label">Recomendaciones</label>
                    </div>
                    <div class="form-group">
                        <div class="col-md-12 col-xs-12">
                            <summernote height="50" ng-model="rcareport.detail.recomendacion"></summernote>
                            <span class="help-block">Detallar las recomendaciones</span>
                        </div>
                    </div>
                </div>
                <!-- end-col1 -->
            </div>
            <!-- end-row2 -->
        </div>
        <div class="panel-footer">
            <button ng-click="newRcaReport(problema_frm.$valid)" ng-disabled="problema_frm.$invalid || rcareportObs.uploader.isLoading" class="btn btn-primary pull-right">Guardar Reporte <span class="fa fa-floppy-o fa-right"></span></button>
        </div>
    </div>
</form>

